<div ng-include="'templates/header.html'"></div>
<div class="wrap" ng-cloak ng-if="payment">
    <p>Payment amount</p>
    <span class="text-primary text-big">{{payment.total_total_session_rate|currency:"$"}}</span><span class="text-line-through">{{payment.total_original_total_session_rate|currency:"$"}}</span>
    <div class="section sm">
        Payment methods
    </div>
    <!-- <a href="" ng-click="pay('1')" class="alipay"></a> -->
    <div class="paypal">
       <!--  <form name="paypalForm" action="https://www.paypal.com/cgibin/webscr" method="post"> -->
       <!-- paypal沙盒支付测试地址 -->
        <form id="pay_form" name="paypalForm" action="https://www.sandbox.paypal.com/cgi-bin/webscr" method="post">
            <!-- Payment amount-->
            <input type="hidden" name="amount" value="{{payment.total_total_session_rate}}">
            <!-- 自己的参数 商品条目-->
            <input type="hidden" name="item_number" id="item_number" value="{{payment.course_titles}}">
            <!-- 表示立即支付-->
            <input type="hidden" name="cmd" value="_xclick">
            <!-- 商品名称-->
            <input type="hidden" name="item_name" id="item_name" value="SKILLOPEDIA">
            <!-- 商户订单唯一id 不可重复 -->
            <!--
            <input type="hidden" name="invoice" id="invoice" value="201604291655176">
            System.currentTimeMillis()
             -->
            <input type="hidden" name="invoice" value="{{id}}">
             <!--支付成功后台通知地址-->
            <input type="hidden" name="notify_url" id="notify_url" value="http://www.skillopedia.cc/PaypalNotify">
            <!--支付成功返回地址-->
            <input type="hidden" name="return" id="return" value="http://www.skillopedia.cc/">
            <input type="hidden" name="lc" value="US">
            <!--支付取消返回地址-->
            <input type="hidden" name="cancel_return" id="cancel_return" value="http://www.skillopedia.cc/">
            <input type="hidden" name="currency_code" value="USD">
            <!--商户邮件-->
            <input type="hidden" name="business" value="admin@skillopedia.cc">
            <input type="image" src="../images/paypal.png" border="0" name="submit" alt="Make payments with PayPal it's st, free and secure!">
        </form>
    </div>
    <!-- <div class="visa">
        <form name="visaForm" action="https://www.paypal.com/cgibin/webscr" method="post">
            <input type="hidden" name="cmd" value="_xclick">
            <input type="hidden" name="business" value="admin@skillopedia.cc">
            <input type="hidden" name="item_name" value="SKILLOPEDIA">
            <input type="hidden" name="amount" value="{{payment.total_total_session_rate}}">
            <input type="hidden" name="currency_code" value="USD">
            <input type="hidden" name="lc" value="US">
            <input type="hidden" name="return" value="http://skillopedia.cc/app/Pays/paypalAysn">
            <input type="hidden" name="custom" value="order_id#{{id}}">
            <input type="image" src="images/visa.jpg" border="0" name="submit" alt="Make payments with PayPal it's st, free and secure!">
        </form>
    </div> -->
    <!-- <a class="btn btn-second btn-md" ng-click="pay('1')">pay with alipay</a>
    <a class="btn btn-primary btn-md" ng-click="pay('2')"><i class="fa fa-cc-visa" aria-hidden="true"></i>pay with visa</a>
    <a class="btn btn-success btn-md" ng-click="pay('3')"><i class="fa fa-cc-paypal" aria-hidden="true"></i>pay with paypal</a> -->
</div>
<div class="wrap" ng-cloak ng-if="error_msg">
    {{error_msg}}
</div>
<!-- alipay -->
<form name="alipayForm" method="post" id="alipayForm" action="https://mapi.alipay.com/gateway.do?_input_charset=utf-8">
    <input type="hidden" name="service" value="{{alipay.service}}">
    <input type="hidden" name="partner" value="{{alipay.partner}}">
    <input type="hidden" name="seller_id" value="{{alipay.seller_id}}">
    <input type="hidden" name="_input_charset" value="{{alipay._input_charset}}">
    <input type="hidden" name="payment_type" value="{{alipay.payment_type}}">
    <input type="hidden" name="notify_url" value="{{alipay.notify_url}}">
    <input type="hidden" name="return_url" value="{{alipay.return_url}}">
    <input type="hidden" name="out_trade_no" value="{{alipay.out_trade_no}}">
    <input type="hidden" name="subject" value="{{alipay.subject}}">
    <input type="hidden" name="total_fee" value="{{alipay.total_fee}}">
    <input type="hidden" name="show_url" value="{{alipay.show_url}}">
    <input type="hidden" name="body" value="{{alipay.body}}">
    <input type="hidden" name="it_b_pay" value="{{alipay.it_b_pay}}">
    <input type="hidden" name="extern_token" value="{{alipay.extern_token}}">
    <input type="hidden" name="sign" value="{{alipay.sign}}">
    <input type="hidden" name="sign_type" value="{{alipay.sign_type}}">
</form>
<!-- footer -->
<div ng-include="'templates/footer.html'"></div>
